<div class="container-small">
    <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
        <h2>Forgot password</h2>

        <p>Enter your email. You will receive the code for changing your password.</p>

        <label>Email:</label>
        <input type="text" id="email" class="form-control" formControlName="email"
            [ngClass]="{'is-invalid': ((email?.dirty || email?.touched) && email?.invalid)}">

        <div *ngIf="(email?.dirty || email?.touched) && f.email.errors?.required">
            <p class="form-error-text">Email is required</p>
        </div>

        <div *ngIf="(email?.dirty || email?.touched) && f.email.errors?.email">
            <p class="form-error-text">Email is not valid</p>
        </div>
        
        <div *ngIf="successMessage">
            <p class="form-success-text">{{successMessage}}</p>
        </div>
        
        <div *ngIf="errorMessage">
            <p class="form-error-text">{{errorMessage}}</p>
        </div>

        <div class="form-buttons">
            <a [routerLink]="['/']" class="btn btn-outline-primary">Cancel</a>
            
            <button type="submit" class="btn btn-primary" [ngClass]="{'btn-disabled' : !formGroup.valid }"
                [disabled]="!formGroup.valid">Send email</button>
        </div>
    </form>
</div>